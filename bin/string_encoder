#! /usr/bin/env ruby
# Replaces invalid utf-8 characters with ï¿½.
#
# Usage:
# $ cat some_file | string_encoder

while input = gets
  next unless input
  string = String.new(input)
  puts string.encode('UTF-8', 'binary', invalid: :replace, undef: :replace)
end
